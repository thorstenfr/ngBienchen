
<ion-view title="{{activeCourse.title}}" cache-view="false" id="page4">

  <ion-nav-buttons side="right" class="has-header has-footer">

  <button class="button button-icon icon ion-drag" ng-click="showReor()"></button>


  </ion-nav-buttons>

  <ion-content padding="true" class="has-header has-footer">

  
	

  <ion-list  id="teilnehmer-list5" show-delete="showDelete" show-reorder="showReorder" class="manual-list-fullwidth">
	  <div ng-show="datumfilter" class="hervorgehoben">Filter von: {{activeCourse.vonDatum | date: "dd.MM.y"}} bis: {{activeCourse.bisDatum | date: "dd.MM.y"}}</div>
		<!-- 
			* Normale Ansicht
		-->	
  </ion-item>
      <ion-item  class="item item-icon-left" ng-show="pupil.erledigt==false" ng-if="showNormal" id="teilnehmer-list-item5" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy" ng-click="addRating(pupil)" on-hold="addTeufelchen(pupil)">  <i class="icon ion-android-checkbox-outline-blank" ng-click="toggleTaskErledigt(pupil)"></i> {{pupil.name}} <span class="badge badge-positive"> {{bienchen.length-teufelchen.length}} </span>
	  	<ion-option-button class="button-assertive ion-trash-a" ng-click="deleteItem(pupil)"></ion-option-button>
        <ion-option-button class="button-positive ion-edit" ng-click="changePupil(pupil)"></ion-option-button>
        <ion-reorder-button class="ion-navicon" on-reorder="reorder(pupil, $fromIndex, $toIndex)"></ion-reorder-button>
        <span ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen">
			  </span>
			  <span ng-repeat="x in pupil.teufelchen | datumFilter: vonDatum : bisDatum  | filter:q as teufelchen">
			  </span>

        </ion-item>

		<!--
		 * Detail-Darstellung
	 -->
    <ul id="detail" class="list" ng-show="showDetail" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy">


			<li class="item">{{pupil.name}} <span class="badge badge-positive"> {{bienchen.length-teufelchen.length}} </span>

    				<ul class="small striped-list">{{bienchen.length}} {{consts.bienchenDetails}}:

						<li class="small" ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen" >{{ x.datum | date:'EEE, yyyy-MM-dd (HH:mm:ss)'}} </li>
					</ul>
					<ul class="small">{{teufelchen.length}} {{consts.teufelchenDetails}}:

						<li class="small" ng-repeat="x in pupil.teufelchen | datumFilter: vonDatum : bisDatum  | filter:q as teufelchen" >{{ x.datum |  date:'EEE, yyyy-MM-dd (HH:mm:ss)'}}</li>
					</ul>

			</li>
		</ul>

      <div ng-show="showUebersicht" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy" class="klein">
			  <span ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen">
			  </span>
			  <span ng-repeat="x in pupil.teufelchen | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum  | filter:q as teufelchen">
			  </span>
			  <p class="t_klein">{{pupil.name}}</p> <p class="b_klein ">{{bienchen.length-teufelchen.length}}</p>
	 </div>


    </ion-list>
	
	<form ng-show="showNormal" ng-if="showCreate" name="form.pupilsForm" role="form" ng-submit="createPupilEx(pupil)">
	    <div class="list list-inset">
	    	<label class="item item-input">
	  		<i class="icon ion-ios-plus-empty"></i>
	  		<input name="textInput" type="text" id="pupil_name" placeholder={{consts.teilnehmerHinzufuegen}} ng-model="pupil.name">
	  		</label>
  		</div>
  		<input type="submit" style="height: 0px; width: 0px; border: none; padding: 0px;">

	</form>
	<br>	
	<div ng-if="showBuchungsdatum" class="list">
		<label class="item item-input">
		<span style="margin-right: 10px;">Buchungsdatum:</span> 
		<input type="date" id="buchungsDatum" name="input" ng-model="buchungsDatum.datum"
			placeholder="yyyy-MM-dd" required />
		</label>
	</div>
	
		<button ng-click="toggle('erledigteAnzeigen')" ng-if="erledigte.length>0" class="button button-block button-positive button-small">
		Erledigte TÃ¤tigkeiten anzeigen
	</button>
	
	<ion-item  style="text-decoration : line-through; opacity : 0.8;" class="item item-icon-left" ng-if="showNormal" ng-show="erledigteAnzeigen==true" id="teilnehmer-list-item5" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy | filter: {erledigt:true} | filter: q as erledigte">  <i class="icon ion-android-checkbox-outline" ng-click="setzeUnerledigt(pupil)"></i> {{pupil.name}}<span class="badge badge-positive"> {{bienchen.length-teufelchen.length}} </span>
	
	 <span ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen">
			  </span>
			  <span ng-repeat="x in pupil.teufelchen | datumFilter: vonDatum : bisDatum  | filter:q as teufelchen">
			  </span>
	
	</ion-item>

      
	

  </ion-content>
  
  
  <div class="tabs tabs-footer tabs-icon-left tabs-positive">
	  
	  	<a class="tab-item" ng-click="showPopup()" on-hold="toogle('nopupils')">
			<i class="icon ion-plus"></i>
			Neu
		</a>
  		<a class="tab-item" ng-click="showOrder()">
			<i class="icon ion-arrow-up-c"></i>
			A-z
		</a>
		<a class="tab-item" ng-click="newDatumFilter()">
			<i class="icon ion-calendar"></i>
			Datum
		</a>
		<a class="tab-item" ng-click="showView()">
			<i class="icon ion-eye"></i>
			Anzeige
		</a>
		<a class="tab-item" ng-click="showMore()">
			<i class="icon ion-more"></i>
			Mehr
		</a>
	</div>
	
</ion-view>
