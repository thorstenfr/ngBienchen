
<ion-view title="{{activeCourse.title}}" cache-view="false" id="page4">

  <ion-nav-buttons side="right" class="has-header has-footer">

  <button class="button button-icon icon ion-drag" ng-click="toggle('showReorder')"></button>


  </ion-nav-buttons>

  <ion-content padding="true" class="has-header has-footer">

  
	

  <ion-list  id="teilnehmer-list5" show-delete="showDelete" show-reorder="showReorder" class="manual-list-fullwidth">
      <div ng-show="activeCourse.datumfilter" class="hervorgehoben">Filter von: {{activeCourse.vonDatum | date: "dd.MM.y"}} bis: {{activeCourse.bisDatum | date: "dd.MM.y"}}</div>

      <ion-item ng-show="showNormal" id="teilnehmer-list-item5" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy" ng-click="addRating(pupil)" on-hold="addTeufelchen(pupil)">{{pupil.name}} <span class="badge badge-stable"> {{bienchen.length-teufelchen.length}} </span>
	  	<ion-option-button class="button-assertive ion-trash-a" ng-click="delete(pupil)"></ion-option-button>
        <ion-option-button class="button-positive ion-edit" ng-click="changePupil(pupil)"></ion-option-button>
        <ion-reorder-button class="ion-navicon" on-reorder="reorder(pupil, $fromIndex, $toIndex)"></ion-reorder-button>
        <span ng-repeat="x in pupil.ratings  | datumFilter: activeCorse.vonDatum : activeCourse.bisDatum | filter:q as bienchen">
			  </span>
			  <span ng-repeat="x in pupil.teufelchen | datumFilter: activeCourse.vonDatum: activeCourse.bisDatum  | filter:q as teufelchen">
			  </span>

        </ion-item>

    <ul id="detail" class="list" ng-show="showDetail" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy">


			<li class="item">{{pupil.name}} <span class="badge badge-assertive"> {{bienchen.length-teufelchen.length}} </span>

    				<ul class="small">{{bienchen.length}} Bienchen:

						<li class="small" ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen" >{{ x.datum | date : "dd.MM.y (HH:mm:ss)"}}</li>
					</ul>
					<ul class="small">{{teufelchen.length}} Teufelchen:

						<li class="small" ng-repeat="x in pupil.teufelchen | datumFilter: vonDatum : bisDatum  | filter:q as teufelchen" >{{ x.datum | date : "dd.MM.y (HH:mm:ss)"}}</li>
					</ul>

			</li>
		</ul>

      <div ng-show="showUebersicht" ng-repeat="pupil  in activeCourse.pupils |  orderBy:myOrderBy" class="klein">
			  <span ng-repeat="x in pupil.ratings  | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum | filter:q as bienchen">
			  </span>
			  <span ng-repeat="x in pupil.teufelchen | datumFilter: activeCourse.vonDatum : activeCourse.bisDatum  | filter:q as teufelchen">
			  </span>
			  <p class="t_klein">{{pupil.name}}</p> <p class="b_klein">{{bienchen.length-teufelchen.length}}</p>
	 </div>


    </ion-list>
	
  </ion-content>
  <div class="tabs tabs-footer tabs-icon-left">
	  	<a class="tab-item" ng-click="showPopup()">
			<i class="icon ion-plus"></i>
			Neu
		</a>
  		<a class="tab-item" ng-click="showOrder()">
			<i class="icon ion-arrow-up-c"></i>
			A-z
		</a>
		<a class="tab-item" ng-click="newDatumFilter()">
			<i class="icon ion-calendar"></i>
			Datum
		</a>
		<a class="tab-item" ng-click="showView()">
			<i class="icon ion-eye"></i>
			Anzeige
		</a>
	</div>
	
</ion-view>
